package com.plantdata.kgcloud.domain.app.service.impl;

import com.alibaba.fastjson.JSON;
import com.plantdata.kgcloud.constant.AppErrorCodeEnum;
import com.plantdata.kgcloud.domain.app.service.GraphAlgorithmService;
import com.plantdata.kgcloud.domain.app.util.JsonUtils;
import com.plantdata.kgcloud.domain.app.util.SseUtils;
import com.plantdata.kgcloud.domain.graph.config.service.GraphConfAlgorithmService;
import com.plantdata.kgcloud.exception.BizException;
import com.plantdata.kgcloud.sdk.req.app.algorithm.BusinessGraphRsp;
import com.plantdata.kgcloud.sdk.rsp.GraphConfAlgorithmRsp;
import com.plantdata.kgcloud.util.JacksonUtils;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.util.LinkedMultiValueMap;
import org.springframework.util.MultiValueMap;

/**
 * @author cjw
 * @version 1.0
 * @date 2019/12/31 9:51
 */
@Service
@Slf4j
public class GraphAlgorithmServiceImpl implements GraphAlgorithmService {

    @Autowired
    private GraphConfAlgorithmService graphConfAlgorithmService;

    @Override
    public BusinessGraphRsp run(String kgName, Long id, BusinessGraphRsp graphBean) {
        GraphConfAlgorithmRsp confAlgorithmRsp = graphConfAlgorithmService.findById(id);
        if (confAlgorithmRsp != null) {
            String url = confAlgorithmRsp.getAlgorithmUrl();
            MultiValueMap<String, Object> form = new LinkedMultiValueMap<>();
            form.add("kgName", kgName);
            form.add("graphBean", JsonUtils.objToJson(graphBean));
            try {
                return SseUtils.postForObject(url, null, form, BusinessGraphRsp.class);
            } catch (Exception e) {
                log.error("url:{},message:{}", url, e.getMessage());
                throw BizException.of(AppErrorCodeEnum.ALGORITHM_EXECUTE_ERROR);
            }
        }
        return graphBean;
    }

    public static void main(String[] args) {
        String s = "{\"entityList\":[{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"9\",\"name\":\"阿里资本\",\"classId\":\"1\",\"classIdList\":[1],\"conceptId\":1,\"conceptIdList\":[1],\"conceptName\":\"投资机构\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"阿里资本\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"42\",\"name\":\"寒武纪科技\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"寒武纪科技\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"43\",\"name\":\"Paytm\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"paytm\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"21\",\"name\":\"小红书\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"小红书\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"44\",\"name\":\"奥哲网络\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"奥哲网络\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"45\",\"name\":\"中通快递\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"中通快递\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"46\",\"name\":\"ORDRE.com\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"ordre.com\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"47\",\"name\":\"美味不用等\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"美味不用等\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"48\",\"name\":\"乐鑫科技\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"乐鑫科技\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"49\",\"name\":\"汇通达\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"汇通达\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"50\",\"name\":\"Video++\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"video++\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"51\",\"name\":\"商汤科技SenseTime\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"商汤科技sensetime\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"52\",\"name\":\"Paytm Mall\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"paytm mall\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"53\",\"name\":\"饿了么\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"饿了么\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"54\",\"name\":\"Lazada\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"lazada\",\"loaded\":true},{\"score\":0,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"55\",\"name\":\"ofo小黄车\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"ofo小黄车\",\"loaded\":true},{\"score\":0.5,\"tags\":[],\"entityLinks\":null,\"fromTime\":null,\"toTime\":null,\"batch\":null,\"source\":null,\"reliability\":null,\"gis\":null,\"creationTime\":null,\"additionalInfo\":{\"isOpenGis\":null,\"color\":null},\"nodeStyle\":null,\"labelStyle\":{\"display\":\"circle\",\"radius\":20,\"color\":\"#0000FF\",\"opacity\":0.5,\"lineColor\":\"#0000FF\",\"lineDash\":[2,3],\"lineWidth\":2},\"id\":\"56\",\"name\":\"中国联通\",\"classId\":\"2\",\"classIdList\":[2],\"conceptId\":2,\"conceptIdList\":[2],\"conceptName\":\"产品\",\"meaningTag\":null,\"type\":1,\"img\":null,\"extra\":null,\"qa\":false,\"lowerName\":\"中国联通\",\"loaded\":true}],\"relationList\":[{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a5\",\"from\":\"9\",\"to\":\"46\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-05-22 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a5\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"13661.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"战略投资\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-05-22 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a5\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a6\",\"from\":\"9\",\"to\":\"47\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-05-11 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a6\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"273220.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"D轮\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-05-11 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a6\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63ae\",\"from\":\"9\",\"to\":\"55\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-03-13 00:00:00\",\"2018-03-04 00:00:00\",\"2017-07-01 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63ae\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"591521.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"战略投资\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-03-13 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]},{\"id\":\"5e1552e3873cef639f1c63af\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"177000.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"战略投资\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-03-04 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]},{\"id\":\"5e1552e3873cef639f1c63b1\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"4.78352E7\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"E轮\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2017-07-01 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63ae\",\"kvs\":[]},{\"id\":\"5e1552e3873cef639f1c63af\",\"kvs\":[]},{\"id\":\"5e1552e3873cef639f1c63b1\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a3\",\"from\":\"9\",\"to\":\"44\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-05-31 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a3\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"5000.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"A+轮\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-05-31 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a3\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63b0\",\"from\":\"9\",\"to\":\"56\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2017-08-16 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63b0\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"7800000.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"战略投资\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2017-08-16 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63b0\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a4\",\"from\":\"9\",\"to\":\"45\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-05-30 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a4\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"942609.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"战略投资\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-05-30 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a4\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63ac\",\"from\":\"9\",\"to\":\"53\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-04-02 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63ac\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"6488975.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"并购\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-04-02 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63ac\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a0\",\"from\":\"9\",\"to\":\"42\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-06-20 00:00:00\",\"2017-08-18 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a0\",\"kvs\":[{\"k\":\"开始时间\",\"v\":\"2018-06-20 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]},{\"id\":\"5e1552e3873cef639f1c63b2\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"6.8336E8\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"A轮\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2017-08-18 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a0\",\"kvs\":[]},{\"id\":\"5e1552e3873cef639f1c63b2\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63ad\",\"from\":\"9\",\"to\":\"54\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-03-19 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63ad\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"1366100.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"战略投资\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-03-19 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63ad\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a2\",\"from\":\"9\",\"to\":\"21\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-06-01 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a2\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"204915.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"D轮\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-06-01 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a2\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a1\",\"from\":\"9\",\"to\":\"43\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-06-14 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a1\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"303957.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"战略投资\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-06-14 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a1\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63aa\",\"from\":\"9\",\"to\":\"51\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-04-09 00:00:00\",\"2017-11-28 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63aa\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"409830.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"C轮\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-04-09 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]},{\"id\":\"5e1552e3873cef639f1c63b3\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"1.5E9\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"战略投资\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2017-11-28 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63aa\",\"kvs\":[]},{\"id\":\"5e1552e3873cef639f1c63b3\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63ab\",\"from\":\"9\",\"to\":\"52\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-04-03 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63ab\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"303957.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"B轮\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-04-03 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63ab\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a7\",\"from\":\"9\",\"to\":\"48\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-04-20 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a7\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"500000.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"并购\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-04-20 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a7\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a8\",\"from\":\"9\",\"to\":\"49\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-04-17 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a8\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"450000.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"战略投资\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-04-17 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a8\",\"kvs\":[]}],\"direction\":0},{\"score\":0,\"batch\":null,\"reliability\":0,\"creationTime\":null,\"origin\":null,\"additionalInfo\":null,\"linkStyle\":{\"radius\":2,\"color\":\"#0000FF\",\"lineDash\":[2,3]},\"labelStyle\":null,\"id\":\"5e1552e3873cef639f1c63a9\",\"from\":\"9\",\"to\":\"50\",\"attId\":1,\"type\":0,\"attName\":\"投资\",\"startTime\":[\"2018-04-16 00:00:00\"],\"endTime\":null,\"nRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a9\",\"kvs\":[{\"k\":\"投资金额\",\"v\":\"34900.0\",\"attDefid\":1,\"type\":2,\"domain\":1},{\"k\":\"投资轮次\",\"v\":\"C轮\",\"attDefid\":1,\"type\":5,\"domain\":1},{\"k\":\"开始时间\",\"v\":\"2018-04-16 00:00:00\",\"attDefid\":null,\"type\":null,\"domain\":null}]}],\"oRInfo\":[{\"id\":\"5e1552e3873cef639f1c63a9\",\"kvs\":[]}],\"direction\":0}],\"level1HasNextPage\":0,\"message\":\"blue & circle & none\",\"layout\":\"none\"}";


        System.out.println(JSON.parseObject(s, BusinessGraphRsp.class));
    }
}
